---
title: "Decomposing revenue drivers using Random Forests and Poisson Regression"
author: "Ross Kelly"
date: "30/03/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

Often we find ourselves needing to understand the drivers behind a continuous dependent variable e.g. revenue by store, and it may be difficult to understand a) which variables are important and b) how the interaction of variables might impact revenue. 

For example, amongst our 30-40 potential variables, opening hours may not appear particularly explanatory, unless it is taken in conjunction with location (e.g. stores that are open later in denser populated areas perform better than early shutting stores, but the effect is masked when the data is taken in aggregate alongside stores in rural areas). 

When it is necessary to understand the impact of multiple drivers, we typically like to use regression modelling, since it is able to parse the impact of one driver _whilst holding others constant_. 

What follows is a worked example using anonymised data for one way to go about this. We'll be looking at store-level revenues for a retailer during covid, and will use a random forest regression to highlight feature importance, followed by a poisson regression to predict sales. We will then test this using cross-fold validation, and pull out some insights.

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
